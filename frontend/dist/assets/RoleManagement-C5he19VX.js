import{_ as _l,r as m,I as R,x as ie,o as wl,c as hl,a as E,b as l,w as t,d as u,e as d,i as p,v as bl,y as yl,n as se,M as xl,f as s,J as ke,g as q,h as Cl,G,L as H,H as kl,t as b,N as Se,O as Ve,P as Sl,Q as Vl,E as _,C as M}from"./index-OILW0-7z.js";const Al={class:"role-management-container"},Dl={class:"header-content"},Ul={class:"breadcrumb"},zl={class:"header-actions"},Rl={class:"card-header"},Pl={class:"search-filter"},Tl={class:"role-name"},Ll={class:"card-header"},Il={class:"assign-search"},Bl={class:"assign-actions"},$l={class:"permission-dialog"},El={class:"permission-header"},Ml={class:"permission-actions"},Ol={class:"permission-content"},Nl={class:"add-user-dialog"},Kl={class:"add-user-search"},jl={class:"add-user-footer"},Fl={__name:"RoleManagement",setup(ql){const de=m("role-management"),J=m(!1),Ae=m(!1),Q=m(!1),De=m(!1),P=m(!1),L=m(!1),I=m(!1),oe=m(!1),A=m(!1),y=R({}),g=R({}),W=R({}),V=m([]),D=m([]),x=m([]),U=m(""),C=m(""),k=m(""),X=m(null),Y=m([]),h=m([]),T=R({currentPage:1,pageSize:10}),O=R({currentPage:1,pageSize:10}),r=R({id:"",name:"",description:"",status:1}),Ue={name:[{required:!0,message:"请输入角色名称",trigger:"blur"},{min:1,max:50,message:"角色名称长度应在1-50个字符之间",trigger:"blur"}],description:[{max:200,message:"角色描述不能超过200个字符",trigger:"blur"}]},ze={children:"children",label:"name"},w=m([{id:"1",name:"超级管理员",description:"系统最高权限角色",status:1,createdAt:"2024-01-01 00:00:00",updatedAt:"2024-01-01 00:00:00",isDefault:!0},{id:"2",name:"管理员",description:"拥有系统管理权限",status:1,createdAt:"2024-01-01 00:00:00",updatedAt:"2024-01-01 00:00:00",isDefault:!0},{id:"3",name:"编辑",description:"内容编辑权限",status:1,createdAt:"2024-01-10 10:30:00",updatedAt:"2024-01-10 10:30:00",isDefault:!1},{id:"4",name:"审核员",description:"视频审核权限",status:1,createdAt:"2024-01-12 15:45:00",updatedAt:"2024-01-12 15:45:00",isDefault:!1},{id:"5",name:"普通用户",description:"普通注册用户",status:1,createdAt:"2024-01-01 00:00:00",updatedAt:"2024-01-01 00:00:00",isDefault:!0}]),N=m([{id:"dashboard",name:"仪表盘",children:[{id:"dashboard:view",name:"查看仪表盘"}]},{id:"video",name:"视频管理",children:[{id:"video:list",name:"查看视频列表"},{id:"video:add",name:"添加视频"},{id:"video:edit",name:"编辑视频"},{id:"video:delete",name:"删除视频"},{id:"video:review",name:"审核视频"}]},{id:"user",name:"用户管理",children:[{id:"user:list",name:"查看用户列表"},{id:"user:add",name:"添加用户"},{id:"user:edit",name:"编辑用户"},{id:"user:delete",name:"删除用户"},{id:"user:resetpwd",name:"重置密码"}]},{id:"category",name:"分类管理",children:[{id:"category:list",name:"查看分类列表"},{id:"category:add",name:"添加分类"},{id:"category:edit",name:"编辑分类"},{id:"category:delete",name:"删除分类"}]},{id:"role",name:"角色管理",children:[{id:"role:list",name:"查看角色列表"},{id:"role:add",name:"添加角色"},{id:"role:edit",name:"编辑角色"},{id:"role:delete",name:"删除角色"},{id:"role:assign",name:"分配权限"}]},{id:"security",name:"安全设置",children:[{id:"security:login",name:"登录安全设置"},{id:"security:content",name:"内容安全设置"},{id:"security:ip",name:"IP管理"},{id:"security:log",name:"系统日志"},{id:"security:backup",name:"备份恢复"}]}]),z=m([{id:"1",username:"admin",nickname:"超级管理员",email:"admin@example.com",mobile:"13800138000"},{id:"2",username:"manager",nickname:"管理员",email:"manager@example.com",mobile:"13800138001"},{id:"3",username:"editor",nickname:"内容编辑",email:"editor@example.com",mobile:"13800138002"},{id:"4",username:"reviewer",nickname:"审核员",email:"reviewer@example.com",mobile:"13800138003"},{id:"5",username:"user1",nickname:"测试用户1",email:"user1@example.com",mobile:"13800138004"},{id:"6",username:"user2",nickname:"测试用户2",email:"user2@example.com",mobile:"13800138005"}]),v=R({1:[z.value[0]],2:[z.value[1]],3:[z.value[2]],4:[z.value[3]],5:[z.value[4],z.value[5]]}),ue=ie(()=>U.value?w.value.filter(a=>a.name.toLowerCase().includes(U.value.toLowerCase())||a.description.toLowerCase().includes(U.value.toLowerCase())):w.value),Re=ie(()=>{if(!g.id)return[];let a=v[g.id]||[];return C.value?a.filter(e=>e.username.toLowerCase().includes(C.value.toLowerCase())||e.nickname.toLowerCase().includes(C.value.toLowerCase())||e.email.toLowerCase().includes(C.value.toLowerCase())||e.mobile.includes(C.value)):a}),re=ie(()=>{if(!g.id)return[];const a=(v[g.id]||[]).map(i=>i.id);let e=z.value.filter(i=>!a.includes(i.id));return k.value?e.filter(i=>i.username.toLowerCase().includes(k.value.toLowerCase())||i.nickname.toLowerCase().includes(k.value.toLowerCase())||i.email.toLowerCase().includes(k.value.toLowerCase())):e});function B(a){return a&&a.isDefault}function Pe(a){return!a.isDefault}function ce(a){return new Date(a).toLocaleString("zh-CN")}function Te(a){de.value=a,console.log("选择菜单:",a)}function Le(){T.currentPage=1,console.log("搜索角色:",U.value)}function Ie(){U.value="",T.currentPage=1}function Be(a){V.value=a}function $e(){ee.value="添加角色",r.id="",r.name="",r.description="",r.status=1,P.value=!0}function me(a){ee.value="编辑角色",r.id=a.id,r.name=a.name,r.description=a.description,r.status=a.status,P.value=!0}function Ee(){X.value.validate(a=>{if(a){if(r.id){const e=w.value.findIndex(i=>i.id===r.id);e!==-1&&(w.value[e]={...w.value[e],name:r.name,description:r.description,status:r.status,updatedAt:new Date().toISOString().slice(0,19).replace("T"," ")},_.success("角色编辑成功"))}else{const e={id:String(Date.now()),name:r.name,description:r.description,status:r.status,createdAt:new Date().toISOString().slice(0,19).replace("T"," "),updatedAt:new Date().toISOString().slice(0,19).replace("T"," "),isDefault:!1};w.value.push(e),_.success("角色添加成功")}P.value=!1}})}function fe(){var a;P.value=!1,(a=X.value)==null||a.resetFields()}function pe(a){if(B(a)){_.warning("默认角色不可删除");return}M.confirm(`确定要删除角色 "${a.name}" 吗？`,"删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"danger"}).then(()=>{const e=w.value.findIndex(i=>i.id===a.id);e!==-1&&(w.value.splice(e,1),v[a.id]&&delete v[a.id],_.success("角色删除成功"))}).catch(()=>{})}function Me(){if(V.value.length===0){_.warning("请选择要删除的角色");return}if(V.value.filter(e=>e.isDefault).length>0){_.warning("选择的角色中包含默认角色，默认角色不可删除");return}M.confirm(`确定要删除选中的 ${V.value.length} 个角色吗？`,"批量删除确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"danger"}).then(()=>{V.value.forEach(e=>{const i=w.value.findIndex(o=>o.id===e.id);i!==-1&&(w.value.splice(i,1),v[e.id]&&delete v[e.id])}),V.value=[],_.success("角色批量删除成功")}).catch(()=>{})}function ve(a){const e=a.status===1?0:1,i=e===1?"启用":"禁用";M.confirm(`确定要${i}角色 "${a.name}" 吗？`,`${i}确认`,{confirmButtonText:"确定",cancelButtonText:"取消",type:e===1?"success":"warning"}).then(()=>{const o=w.value.findIndex(S=>S.id===a.id);o!==-1&&(w.value[o].status=e,w.value[o].updatedAt=new Date().toISOString().slice(0,19).replace("T"," "),_.success(`角色${i}成功`))}).catch(()=>{})}function ge(a){Object.assign(W,a),Q.value=!0,setTimeout(()=>{a.id==="1"?h.value=Z(N.value):a.id==="2"?h.value=["dashboard:view","video:list","video:add","video:edit","video:delete","video:review","user:list","user:add","user:edit","user:delete","user:resetpwd","category:list","category:add","category:edit","category:delete","role:list","role:add","role:edit","role:delete","role:assign","security:login","security:content","security:ip"]:a.id==="3"?h.value=["dashboard:view","video:list","video:add","video:edit","category:list","category:add","category:edit"]:a.id==="4"?h.value=["dashboard:view","video:list","video:review"]:h.value=[],Y.value=_e(N.value),Q.value=!1,L.value=!0},300)}function Z(a){let e=[];return a.forEach(i=>{i.children&&i.children.length>0?e=e.concat(Z(i.children)):e.push(i.id)}),e}function _e(a){let e=[];return a.forEach(i=>{i.children&&i.children.length>0&&(e.push(i.id),e=e.concat(_e(i.children)))}),e}function Oe(){}function Ne(){h.value=Z(N.value)}function Ke(){h.value=[]}function je(){console.log("保存权限:",W.name,h.value),_.success("权限设置保存成功"),L.value=!1}function Fe(){L.value=!1,h.value=[],Y.value=[]}function qe(){console.log("搜索分配用户:",C.value)}function Ge(){C.value=""}function He(a){D.value=a}function Je(){k.value="",x.value=[],I.value=!0}function Qe(){console.log("搜索添加用户:",k.value)}function We(){k.value=""}function Xe(a){x.value=a}function Ye(){if(x.value.length===0){_.warning("请选择要添加的用户");return}v[g.id]||(v[g.id]=[]),x.value.forEach(a=>{v[g.id].some(e=>e.id===a.id)||v[g.id].push(a)}),_.success(`成功添加 ${x.value.length} 个用户到角色`),I.value=!1,x.value=[]}function we(){I.value=!1,x.value=[]}function Ze(a){M.confirm(`确定要将用户 "${a.nickname}" 从角色中移除吗？`,"移除确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{if(v[g.id]){const e=v[g.id].findIndex(i=>i.id===a.id);e!==-1&&(v[g.id].splice(e,1),_.success("用户移除成功"))}}).catch(()=>{})}function el(){if(D.value.length===0){_.warning("请选择要移除的用户");return}M.confirm(`确定要移除选中的 ${D.value.length} 个用户吗？`,"批量移除确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{v[g.id]&&(D.value.forEach(a=>{const e=v[g.id].findIndex(i=>i.id===a.id);e!==-1&&v[g.id].splice(e,1)}),D.value=[],_.success("用户批量移除成功"))}).catch(()=>{})}function ll(a,e,i){i.preventDefault(),Object.assign(y,a),A.value=!0}function tl(){A.value=!1,me(y)}function al(){A.value=!1,ge(y)}function nl(){A.value=!1,ve(y)}function il(){A.value=!1,pe(y)}wl(()=>{J.value=!0,setTimeout(()=>{J.value=!1},300)});const ee=m("添加角色");return(a,e)=>{const i=u("data-line"),o=u("el-icon"),S=u("el-menu-item"),sl=u("el-menu"),dl=u("el-aside"),he=u("el-breadcrumb-item"),ol=u("el-breadcrumb"),c=u("el-button"),ul=u("el-header"),be=u("el-tag"),$=u("el-input"),le=u("el-badge"),f=u("el-table-column"),te=u("el-table"),ye=u("el-pagination"),xe=u("el-card"),rl=u("el-main"),Ce=u("el-container"),ae=u("el-form-item"),cl=u("el-switch"),ml=u("el-form"),ne=u("el-dialog"),fl=u("Save"),pl=u("el-tree"),K=u("el-dropdown-item"),vl=u("el-dropdown-menu"),gl=u("el-dropdown"),j=kl("loading");return E(),hl("div",Al,[l(Ce,{class:"main-container"},{default:t(()=>[l(dl,{width:"240px",class:"sidebar"},{default:t(()=>[e[22]||(e[22]=d("div",{class:"sidebar-header"},[d("h2",null,"视频管理系统")],-1)),l(sl,{"default-active":de.value,class:"el-menu-vertical",onSelect:Te},{default:t(()=>[l(S,{index:"dashboard"},{default:t(()=>[l(o,null,{default:t(()=>[l(i)]),_:1}),e[15]||(e[15]=d("span",null,"数据概览",-1))]),_:1}),l(S,{index:"video-management"},{default:t(()=>[l(o,null,{default:t(()=>[l(p(bl))]),_:1}),e[16]||(e[16]=d("span",null,"视频管理",-1))]),_:1}),l(S,{index:"pending-videos"},{default:t(()=>[l(o,null,{default:t(()=>[l(p(yl))]),_:1}),e[17]||(e[17]=d("span",null,"待审核视频",-1))]),_:1}),l(S,{index:"user-management"},{default:t(()=>[l(o,null,{default:t(()=>[l(p(se))]),_:1}),e[18]||(e[18]=d("span",null,"用户管理",-1))]),_:1}),l(S,{index:"category-management"},{default:t(()=>[l(o,null,{default:t(()=>[l(p(se))]),_:1}),e[19]||(e[19]=d("span",null,"分类管理",-1))]),_:1}),l(S,{index:"role-management"},{default:t(()=>[l(o,null,{default:t(()=>[l(p(se))]),_:1}),e[20]||(e[20]=d("span",null,"角色管理",-1))]),_:1}),l(S,{index:"security-settings"},{default:t(()=>[l(o,null,{default:t(()=>[l(p(xl))]),_:1}),e[21]||(e[21]=d("span",null,"安全设置",-1))]),_:1})]),_:1},8,["default-active"])]),_:1}),l(Ce,null,{default:t(()=>[l(ul,{height:"60px",class:"header"},{default:t(()=>[d("div",Dl,[d("div",Ul,[l(ol,{separator:"/"},{default:t(()=>[l(he,{to:{path:"/admin"}},{default:t(()=>[...e[23]||(e[23]=[s("首页",-1)])]),_:1}),l(he,null,{default:t(()=>[...e[24]||(e[24]=[s("角色管理",-1)])]),_:1})]),_:1})]),d("div",zl,[l(c,{type:"primary",onClick:$e},{default:t(()=>[l(o,null,{default:t(()=>[l(p(ke))]),_:1}),e[25]||(e[25]=s(" 新增角色 ",-1))]),_:1})])])]),_:1}),l(rl,{class:"content"},{default:t(()=>[l(xe,null,{header:t(()=>[d("div",Rl,[e[27]||(e[27]=d("span",null,"角色管理",-1)),l(be,{type:"info"},{default:t(()=>[...e[26]||(e[26]=[s("用户权限角色配置",-1)])]),_:1})])]),default:t(()=>[d("div",Pl,[l($,{modelValue:U.value,"onUpdate:modelValue":e[0]||(e[0]=n=>U.value=n),placeholder:"搜索角色名称",class:"search-input","prefix-icon":"Search"},null,8,["modelValue"]),l(c,{type:"primary",onClick:Le},{default:t(()=>[...e[28]||(e[28]=[s("搜索",-1)])]),_:1}),l(c,{onClick:Ie},{default:t(()=>[...e[29]||(e[29]=[s("重置",-1)])]),_:1}),l(c,{type:"danger",onClick:Me,disabled:V.value.length===0},{suffix:t(()=>[l(le,{value:V.value.length,class:"item"},null,8,["value"])]),default:t(()=>[l(o,null,{default:t(()=>[l(p(H))]),_:1}),e[30]||(e[30]=s(" 批量删除 ",-1))]),_:1},8,["disabled"])]),G((E(),q(te,{data:ue.value,style:{width:"100%"},onSelectionChange:Be,onRowContextmenu:ll},{default:t(()=>[l(f,{type:"selection",width:"55",selectable:Pe}),l(f,{prop:"id",label:"角色ID",width:"80"}),l(f,{prop:"name",label:"角色名称","min-width":"150"},{default:t(n=>[d("span",Tl,b(n.row.name),1)]),_:1}),l(f,{prop:"description",label:"角色描述","min-width":"200"}),l(f,{prop:"status",label:"状态",width:"100"},{default:t(n=>[l(be,{type:n.row.status===1?"success":"danger"},{default:t(()=>[s(b(n.row.status===1?"启用":"禁用"),1)]),_:2},1032,["type"])]),_:1}),l(f,{prop:"createdAt",label:"创建时间",width:"180"},{default:t(n=>[s(b(ce(n.row.createdAt)),1)]),_:1}),l(f,{prop:"updatedAt",label:"更新时间",width:"180"},{default:t(n=>[s(b(ce(n.row.updatedAt)),1)]),_:1}),l(f,{label:"操作",width:"250",fixed:"right"},{default:t(n=>[l(c,{type:"primary",size:"small",onClick:F=>me(n.row)},{default:t(()=>[l(o,null,{default:t(()=>[l(p(Se))]),_:1}),e[31]||(e[31]=s(" 编辑 ",-1))]),_:1},8,["onClick"]),l(c,{type:"success",size:"small",onClick:F=>ge(n.row)},{default:t(()=>[l(o,null,{default:t(()=>[l(p(Ve))]),_:1}),e[32]||(e[32]=s(" 权限设置 ",-1))]),_:1},8,["onClick"]),l(c,{type:n.row.status===1?"warning":"success",size:"small",onClick:F=>ve(n.row)},{default:t(()=>[l(o,null,{default:t(()=>[s(b(n.row.status===1?"SwitchButton":"Play"),1)]),_:2},1024),s(" "+b(n.row.status===1?"禁用":"启用"),1)]),_:2},1032,["type","onClick"]),l(c,{type:"danger",size:"small",onClick:F=>pe(n.row),disabled:B(n.row)},{default:t(()=>[l(o,null,{default:t(()=>[l(p(H))]),_:1}),e[33]||(e[33]=s(" 删除 ",-1))]),_:1},8,["onClick","disabled"])]),_:1})]),_:1},8,["data"])),[[j,J.value]]),l(ye,{"current-page":T.currentPage,"onUpdate:currentPage":e[1]||(e[1]=n=>T.currentPage=n),"page-size":T.pageSize,"onUpdate:pageSize":e[2]||(e[2]=n=>T.pageSize=n),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:ue.value.length,class:"pagination"},null,8,["current-page","page-size","total"])]),_:1}),oe.value?(E(),q(xe,{key:0,class:"assign-card"},{header:t(()=>[d("div",Ll,[d("span",null,b(g.name)+" - 人员分配",1),l(c,{type:"primary",onClick:Je},{default:t(()=>[l(o,null,{default:t(()=>[l(p(ke))]),_:1}),e[34]||(e[34]=s(" 添加成员 ",-1))]),_:1})])]),default:t(()=>[d("div",Il,[l($,{modelValue:C.value,"onUpdate:modelValue":e[3]||(e[3]=n=>C.value=n),placeholder:"搜索用户名或账号",class:"search-input","prefix-icon":"Search"},null,8,["modelValue"]),l(c,{type:"primary",onClick:qe},{default:t(()=>[...e[35]||(e[35]=[s("搜索",-1)])]),_:1}),l(c,{onClick:Ge},{default:t(()=>[...e[36]||(e[36]=[s("重置",-1)])]),_:1})]),G((E(),q(te,{data:Re.value,style:{width:"100%"},onSelectionChange:He},{default:t(()=>[l(f,{type:"selection",width:"55"}),l(f,{prop:"id",label:"用户ID",width:"80"}),l(f,{prop:"username",label:"用户名",width:"120"}),l(f,{prop:"nickname",label:"昵称","min-width":"150"}),l(f,{prop:"email",label:"邮箱","min-width":"200"}),l(f,{prop:"mobile",label:"手机号","min-width":"120"}),l(f,{label:"操作",width:"120",fixed:"right"},{default:t(n=>[l(c,{type:"danger",size:"small",onClick:F=>Ze(n.row)},{default:t(()=>[l(o,null,{default:t(()=>[l(p(Sl))]),_:1}),e[37]||(e[37]=s(" 移除 ",-1))]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])),[[j,Ae.value]]),d("div",Bl,[l(c,{type:"danger",onClick:el,disabled:D.value.length===0},{suffix:t(()=>[l(le,{value:D.value.length,class:"item"},null,8,["value"])]),default:t(()=>[l(o,null,{default:t(()=>[l(p(H))]),_:1}),e[38]||(e[38]=s(" 批量移除 ",-1))]),_:1},8,["disabled"]),l(c,{onClick:e[4]||(e[4]=n=>oe.value=!1)},{default:t(()=>[...e[39]||(e[39]=[s("返回角色列表",-1)])]),_:1})])]),_:1})):Cl("",!0)]),_:1})]),_:1})]),_:1}),l(ne,{modelValue:P.value,"onUpdate:modelValue":e[8]||(e[8]=n=>P.value=n),title:ee.value,width:"500px","before-close":fe},{footer:t(()=>[l(c,{onClick:fe},{default:t(()=>[...e[40]||(e[40]=[s("取消",-1)])]),_:1}),l(c,{type:"primary",onClick:Ee},{default:t(()=>[...e[41]||(e[41]=[s("确定",-1)])]),_:1})]),default:t(()=>[l(ml,{model:r,rules:Ue,ref_key:"formRef",ref:X,"label-width":"100px"},{default:t(()=>[l(ae,{label:"角色名称",prop:"name"},{default:t(()=>[l($,{modelValue:r.name,"onUpdate:modelValue":e[5]||(e[5]=n=>r.name=n),placeholder:"请输入角色名称",disabled:B(r)},null,8,["modelValue","disabled"])]),_:1}),l(ae,{label:"角色描述",prop:"description"},{default:t(()=>[l($,{modelValue:r.description,"onUpdate:modelValue":e[6]||(e[6]=n=>r.description=n),type:"textarea",rows:4,placeholder:"请输入角色描述"},null,8,["modelValue"])]),_:1}),l(ae,{label:"角色状态"},{default:t(()=>[l(cl,{modelValue:r.status,"onUpdate:modelValue":e[7]||(e[7]=n=>r.status=n),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),l(ne,{modelValue:L.value,"onUpdate:modelValue":e[9]||(e[9]=n=>L.value=n),title:"权限设置",width:"800px","before-close":Fe},{default:t(()=>[d("div",$l,[d("div",El,[d("h3",null,b(W.name)+" - 权限配置",1),d("div",Ml,[l(c,{size:"small",type:"primary",onClick:Ne},{default:t(()=>[...e[42]||(e[42]=[s(" 全选 ",-1)])]),_:1}),l(c,{size:"small",onClick:Ke},{default:t(()=>[...e[43]||(e[43]=[s(" 取消全选 ",-1)])]),_:1}),l(c,{size:"small",type:"success",onClick:je},{default:t(()=>[l(o,null,{default:t(()=>[l(fl)]),_:1}),e[44]||(e[44]=s(" 保存权限 ",-1))]),_:1})])]),d("div",Ol,[G(l(pl,{data:N.value,"show-checkbox":"","node-key":"id","default-expanded-keys":Y.value,"default-checked-keys":h.value,props:ze,onCheckChange:Oe,class:"permission-tree"},null,8,["data","default-expanded-keys","default-checked-keys"]),[[j,Q.value]])])])]),_:1},8,["modelValue"]),l(ne,{modelValue:I.value,"onUpdate:modelValue":e[13]||(e[13]=n=>I.value=n),title:"添加用户到角色",width:"600px","before-close":we},{footer:t(()=>[l(c,{onClick:we},{default:t(()=>[...e[47]||(e[47]=[s("取消",-1)])]),_:1}),l(c,{type:"primary",onClick:Ye,disabled:x.value.length===0},{suffix:t(()=>[l(le,{value:x.value.length,class:"item"},null,8,["value"])]),default:t(()=>[e[48]||(e[48]=s(" 添加选中用户 ",-1))]),_:1},8,["disabled"])]),default:t(()=>[d("div",Nl,[d("div",Kl,[l($,{modelValue:k.value,"onUpdate:modelValue":e[10]||(e[10]=n=>k.value=n),placeholder:"搜索用户名或账号",class:"search-input","prefix-icon":"Search"},null,8,["modelValue"]),l(c,{type:"primary",onClick:Qe},{default:t(()=>[...e[45]||(e[45]=[s("搜索",-1)])]),_:1}),l(c,{onClick:We},{default:t(()=>[...e[46]||(e[46]=[s("重置",-1)])]),_:1})]),G((E(),q(te,{data:re.value,style:{width:"100%"},onSelectionChange:Xe},{default:t(()=>[l(f,{type:"selection",width:"55"}),l(f,{prop:"id",label:"用户ID",width:"80"}),l(f,{prop:"username",label:"用户名",width:"120"}),l(f,{prop:"nickname",label:"昵称","min-width":"150"}),l(f,{prop:"email",label:"邮箱","min-width":"200"})]),_:1},8,["data"])),[[j,De.value]]),d("div",jl,[l(ye,{"current-page":O.currentPage,"onUpdate:currentPage":e[11]||(e[11]=n=>O.currentPage=n),"page-size":O.pageSize,"onUpdate:pageSize":e[12]||(e[12]=n=>O.pageSize=n),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:re.value.length,class:"add-user-pagination"},null,8,["current-page","page-size","total"])])])]),_:1},8,["modelValue"]),l(gl,{modelValue:A.value,"onUpdate:modelValue":e[14]||(e[14]=n=>A.value=n),trigger:"contextmenu","show-timeout":0,"hide-on-click":!1},{default:t(()=>[l(vl,null,{default:t(()=>[l(K,{onClick:tl},{default:t(()=>[l(o,null,{default:t(()=>[l(p(Se))]),_:1}),e[49]||(e[49]=s(" 编辑 ",-1))]),_:1}),l(K,{onClick:al},{default:t(()=>[l(o,null,{default:t(()=>[l(p(Ve))]),_:1}),e[50]||(e[50]=s(" 权限设置 ",-1))]),_:1}),l(K,{onClick:nl},{default:t(()=>[l(o,null,{default:t(()=>[s(b(y.status===1?"SwitchButton":"Play"),1)]),_:1}),s(" "+b(y.status===1?"禁用":"启用"),1)]),_:1}),l(K,{onClick:il,disabled:B(y),divided:"",class:Vl({"text-danger":!B(y)})},{default:t(()=>[l(o,null,{default:t(()=>[l(p(H))]),_:1}),e[51]||(e[51]=s(" 删除 ",-1))]),_:1},8,["disabled","class"])]),_:1})]),_:1},8,["modelValue"])])}}},Hl=_l(Fl,[["__scopeId","data-v-c94f53df"]]);export{Hl as default};
