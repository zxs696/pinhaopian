import{_ as We,r as d,I as C,c as Ee,a as V,b as l,w as t,d as o,e as n,i as X,y as Le,n as Re,M as Ne,f as s,g as w,h as S,G as $e,H as Oe,t as q,E as z,C as je}from"./index-OILW0-7z.js";const Ge={class:"security-settings-container"},He={class:"header-content"},Je={class:"breadcrumb"},Ke={class:"header-actions"},Qe={class:"card-header"},Xe={class:"log-section"},Ye={class:"log-filters"},Ze={class:"backup-section"},he={class:"backup-header"},el={class:"backup-settings"},ll={class:"confirm-content"},tl={class:"progress-content"},al={class:"progress-text"},ol={__name:"SecuritySettings",setup(nl){const Y=d("security-settings"),Z=d("login-security"),N=d(!1),c=d(!1),W=d(""),E=d(""),L=d("primary"),B=d(()=>{}),h=()=>{c.value=!1,B.value=()=>{}},R=d(!1),$=d(0),O=d(""),I=d(""),p=C({loginAttempts:5,lockoutDuration:30,captchaSettings:["登录失败后显示验证码"],twoFactorEnabled:!1,sessionTimeout:60}),ue={loginAttempts:[{required:!0,message:"请设置登录失败次数限制",trigger:"blur"},{type:"number",min:3,max:20,message:"次数范围应在3-20之间",trigger:"blur"}],lockoutDuration:[{required:!0,message:"请设置账号锁定时长",trigger:"blur"},{type:"number",min:5,max:1440,message:"时长范围应在5-1440分钟之间",trigger:"blur"}],sessionTimeout:[{required:!0,message:"请设置会话超时时间",trigger:"blur"},{type:"number",min:5,max:1440,message:"时长范围应在5-1440分钟之间",trigger:"blur"}]},j=d(),u=C({reviewStrategy:"hybrid",enableWordFilter:!0,sensitiveWords:`违禁词1
违禁词2
敏感词`,maxVideoDuration:600,maxVideoSize:500,enableWatermark:!0,watermarkText:"视频管理系统",watermarkPosition:"bottom-right"}),de={maxVideoDuration:[{required:!0,message:"请设置视频时长限制",trigger:"blur"},{type:"number",min:10,max:3600,message:"时长范围应在10-3600秒之间",trigger:"blur"}],maxVideoSize:[{required:!0,message:"请设置视频大小限制",trigger:"blur"},{type:"number",min:10,max:5e3,message:"大小范围应在10-5000MB之间",trigger:"blur"}],watermarkText:[{required:!0,message:"请设置水印文字",trigger:"blur"},{min:1,max:20,message:"水印文字长度应在1-20个字符之间",trigger:"blur"}]},G=d(),m=C({restrictionMode:"none",whitelistIps:`192.168.1.1
192.168.1.0/24`,blacklistIps:"",restrictAdminIp:!1,adminIps:"127.0.0.1"}),me=d(),b=C({logType:"",dateRange:[],keyword:""}),D=C({currentPage:1,pageSize:10}),ee=d([{id:"1001",type:"login",message:"管理员成功登录系统",operator:"admin",ip:"127.0.0.1",timestamp:"2024-01-14 10:30:15"},{id:"1002",type:"operation",message:"更新了用户管理页面设置",operator:"admin",ip:"127.0.0.1",timestamp:"2024-01-14 10:25:30"},{id:"1003",type:"warning",message:"检测到异常登录尝试",operator:"unknown",ip:"203.0.113.42",timestamp:"2024-01-14 09:45:12"},{id:"1004",type:"error",message:"数据库连接超时",operator:"system",ip:"127.0.0.1",timestamp:"2024-01-14 08:30:05"},{id:"1005",type:"login",message:"用户登录失败（密码错误）",operator:"zhangwei",ip:"198.51.100.78",timestamp:"2024-01-14 08:15:42"},{id:"1006",type:"operation",message:"删除了过期的视频内容",operator:"admin",ip:"127.0.0.1",timestamp:"2024-01-14 07:45:20"},{id:"1007",type:"warning",message:"磁盘空间不足，建议清理",operator:"system",ip:"127.0.0.1",timestamp:"2024-01-14 07:00:00"}]),k=C({autoBackup:!0,frequency:"daily",retentionCount:7}),M=d([{id:"1",filename:"backup_20240114_100000.sql",size:"25.6 MB",createdAt:"2024-01-14 10:00:00"},{id:"2",filename:"backup_20240113_100000.sql",size:"24.8 MB",createdAt:"2024-01-13 10:00:00"},{id:"3",filename:"backup_20240112_100000.sql",size:"23.1 MB",createdAt:"2024-01-12 10:00:00"}]);function pe(i){Y.value=i,console.log("选择菜单:",i)}function fe(){const i=[];j.value&&i.push(new Promise((e,x)=>{j.value.validate(f=>{f?e(!0):x(new Error("登录安全设置验证失败"))})})),G.value&&i.push(new Promise((e,x)=>{G.value.validate(f=>{f?e(!0):x(new Error("内容安全设置验证失败"))})})),Promise.all(i).then(()=>{setTimeout(()=>{z.success("所有设置已成功保存")},500)}).catch(e=>{console.error("验证失败:",e.message)})}function ge(){N.value=!0,setTimeout(()=>{N.value=!1,console.log("搜索日志:",b)},500)}function be(){b.logType="",b.dateRange=[],b.keyword="",D.currentPage=1}function ve(){z.success("日志导出成功")}function _e(i){return{login:"primary",operation:"success",error:"danger",warning:"warning"}[i]||"info"}function ce(i){return{login:"登录",operation:"操作",error:"错误",warning:"警告"}[i]||i}function ye(){W.value="确认备份",E.value="确定要立即创建数据库备份吗？这可能需要一些时间。",L.value="primary",B.value=()=>{c.value=!1,R.value=!0,$.value=0,O.value="primary",I.value="正在准备备份...";let i=0;const e=setInterval(()=>{i+=10,$.value=i,i<=30?I.value="正在读取数据库...":i<=70?I.value="正在备份数据...":I.value="正在保存备份文件...",i>=100&&(clearInterval(e),O.value="success",I.value="备份完成！",setTimeout(()=>{R.value=!1,z.success("数据库备份成功"),M.value.unshift({id:String(M.value.length+1),filename:`backup_${new Date().toISOString().slice(0,10).replace(/-/g,"")}_${new Date().toISOString().slice(11,19).replace(/:/g,"")}.sql`,size:"26.3 MB",createdAt:new Date().toLocaleString("zh-CN")})},1e3))},300)},c.value=!0}function Ve(i){W.value="确认恢复",E.value=`确定要从备份 ${i.filename} 恢复数据库吗？这将覆盖当前数据！`,L.value="warning",B.value=()=>{c.value=!1,je.confirm("恢复操作不可撤销，确定继续吗？","最终确认",{confirmButtonText:"确定恢复",cancelButtonText:"取消",type:"danger"}).then(()=>{setTimeout(()=>{z.success("数据库恢复成功")},1e3)}).catch(()=>{})},c.value=!0}function ke(i){console.log("下载备份:",i.filename),z.success("备份文件已开始下载")}function we(i){W.value="确认删除",E.value=`确定要删除备份 ${i.filename} 吗？`,L.value="danger",B.value=()=>{c.value=!1;const e=M.value.findIndex(x=>x.id===i.id);e!==-1&&(M.value.splice(e,1),z.success("备份文件已删除"))},c.value=!0}function le(i){return new Date(i).toLocaleString("zh-CN")}return(i,e)=>{const x=o("data-line"),f=o("el-icon"),P=o("el-menu-item"),xe=o("videoplay"),Se=o("grid"),Ie=o("el-menu"),Pe=o("el-aside"),te=o("el-breadcrumb-item"),Ue=o("el-breadcrumb"),Te=o("Save"),v=o("el-button"),Ce=o("el-header"),ae=o("el-tag"),U=o("el-input-number"),r=o("el-form-item"),H=o("el-checkbox"),ze=o("el-checkbox-group"),A=o("el-switch"),J=o("el-form"),F=o("el-tab-pane"),y=o("el-radio"),K=o("el-radio-group"),T=o("el-input"),_=o("el-option"),oe=o("el-select"),Be=o("el-date-picker"),g=o("el-table-column"),ne=o("el-table"),De=o("el-pagination"),Q=o("el-card"),Me=o("el-tabs"),Ae=o("el-main"),se=o("el-container"),ie=o("el-dialog"),Fe=o("el-progress"),qe=Oe("loading");return V(),Ee("div",Ge,[l(se,{class:"main-container"},{default:t(()=>[l(Pe,{width:"240px",class:"sidebar"},{default:t(()=>[e[35]||(e[35]=n("div",{class:"sidebar-header"},[n("h2",null,"视频管理系统")],-1)),l(Ie,{"default-active":Y.value,class:"el-menu-vertical",onSelect:pe},{default:t(()=>[l(P,{index:"dashboard"},{default:t(()=>[l(f,null,{default:t(()=>[l(x)]),_:1}),e[29]||(e[29]=n("span",null,"数据概览",-1))]),_:1}),l(P,{index:"video-management"},{default:t(()=>[l(f,null,{default:t(()=>[l(xe)]),_:1}),e[30]||(e[30]=n("span",null,"视频管理",-1))]),_:1}),l(P,{index:"pending-videos"},{default:t(()=>[l(f,null,{default:t(()=>[l(X(Le))]),_:1}),e[31]||(e[31]=n("span",null,"待审核视频",-1))]),_:1}),l(P,{index:"user-management"},{default:t(()=>[l(f,null,{default:t(()=>[l(X(Re))]),_:1}),e[32]||(e[32]=n("span",null,"用户管理",-1))]),_:1}),l(P,{index:"category-management"},{default:t(()=>[l(f,null,{default:t(()=>[l(Se)]),_:1}),e[33]||(e[33]=n("span",null,"分类管理",-1))]),_:1}),l(P,{index:"security-settings"},{default:t(()=>[l(f,null,{default:t(()=>[l(X(Ne))]),_:1}),e[34]||(e[34]=n("span",null,"安全设置",-1))]),_:1})]),_:1},8,["default-active"])]),_:1}),l(se,null,{default:t(()=>[l(Ce,{height:"60px",class:"header"},{default:t(()=>[n("div",He,[n("div",Je,[l(Ue,{separator:"/"},{default:t(()=>[l(te,{to:{path:"/admin"}},{default:t(()=>[...e[36]||(e[36]=[s("首页",-1)])]),_:1}),l(te,null,{default:t(()=>[...e[37]||(e[37]=[s("安全设置",-1)])]),_:1})]),_:1})]),n("div",Ke,[l(v,{type:"primary",onClick:fe},{default:t(()=>[l(f,null,{default:t(()=>[l(Te)]),_:1}),e[38]||(e[38]=s(" 保存所有设置 ",-1))]),_:1})])])]),_:1}),l(Ae,{class:"content"},{default:t(()=>[l(Q,null,{header:t(()=>[n("div",Qe,[e[40]||(e[40]=n("span",null,"安全设置",-1)),l(ae,{type:"info"},{default:t(()=>[...e[39]||(e[39]=[s("系统安全配置管理",-1)])]),_:1})])]),default:t(()=>[l(Me,{modelValue:Z.value,"onUpdate:modelValue":e[26]||(e[26]=a=>Z.value=a),class:"security-tabs"},{default:t(()=>[l(F,{label:"登录安全",name:"login-security"},{default:t(()=>[l(J,{model:p,rules:ue,ref_key:"loginSecurityForm",ref:j},{default:t(()=>[l(r,{label:"登录失败次数限制",prop:"loginAttempts"},{default:t(()=>[l(U,{modelValue:p.loginAttempts,"onUpdate:modelValue":e[0]||(e[0]=a=>p.loginAttempts=a),min:3,max:20,label:"限制次数"},null,8,["modelValue"]),e[41]||(e[41]=n("div",{class:"form-hint"},"连续登录失败超过该次数后，账号将被临时锁定",-1))]),_:1}),l(r,{label:"账号锁定时长（分钟）",prop:"lockoutDuration"},{default:t(()=>[l(U,{modelValue:p.lockoutDuration,"onUpdate:modelValue":e[1]||(e[1]=a=>p.lockoutDuration=a),min:5,max:1440,label:"锁定分钟数"},null,8,["modelValue"]),e[42]||(e[42]=n("div",{class:"form-hint"},"账号被锁定后的时长，默认为30分钟",-1))]),_:1}),l(r,{label:"验证码设置"},{default:t(()=>[l(ze,{modelValue:p.captchaSettings,"onUpdate:modelValue":e[2]||(e[2]=a=>p.captchaSettings=a)},{default:t(()=>[l(H,{label:"登录失败后显示验证码"},{default:t(()=>[...e[43]||(e[43]=[s("登录失败后显示验证码",-1)])]),_:1}),l(H,{label:"始终显示验证码"},{default:t(()=>[...e[44]||(e[44]=[s("始终显示验证码",-1)])]),_:1}),l(H,{label:"高风险IP强制验证码"},{default:t(()=>[...e[45]||(e[45]=[s("高风险IP强制验证码",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(r,{label:"双因素认证"},{default:t(()=>[l(A,{modelValue:p.twoFactorEnabled,"onUpdate:modelValue":e[3]||(e[3]=a=>p.twoFactorEnabled=a)},null,8,["modelValue"]),e[46]||(e[46]=n("div",{class:"form-hint"},"启用后，管理员登录需要额外验证",-1))]),_:1}),l(r,{label:"会话超时时间（分钟）",prop:"sessionTimeout"},{default:t(()=>[l(U,{modelValue:p.sessionTimeout,"onUpdate:modelValue":e[4]||(e[4]=a=>p.sessionTimeout=a),min:5,max:1440,label:"超时分钟数"},null,8,["modelValue"]),e[47]||(e[47]=n("div",{class:"form-hint"},"用户无操作自动登出的时间",-1))]),_:1})]),_:1},8,["model"])]),_:1}),l(F,{label:"内容安全",name:"content-security"},{default:t(()=>[l(J,{model:u,rules:de,ref_key:"contentSecurityForm",ref:G},{default:t(()=>[l(r,{label:"视频审核策略"},{default:t(()=>[l(K,{modelValue:u.reviewStrategy,"onUpdate:modelValue":e[5]||(e[5]=a=>u.reviewStrategy=a)},{default:t(()=>[l(y,{label:"auto"},{default:t(()=>[...e[48]||(e[48]=[s("自动审核（AI识别）",-1)])]),_:1}),l(y,{label:"manual"},{default:t(()=>[...e[49]||(e[49]=[s("人工审核",-1)])]),_:1}),l(y,{label:"hybrid"},{default:t(()=>[...e[50]||(e[50]=[s("混合审核（AI+人工）",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(r,{label:"敏感词过滤"},{default:t(()=>[l(A,{modelValue:u.enableWordFilter,"onUpdate:modelValue":e[6]||(e[6]=a=>u.enableWordFilter=a)},null,8,["modelValue"])]),_:1}),u.enableWordFilter?(V(),w(r,{key:0,label:"敏感词列表"},{default:t(()=>[l(T,{modelValue:u.sensitiveWords,"onUpdate:modelValue":e[7]||(e[7]=a=>u.sensitiveWords=a),type:"textarea",rows:6,placeholder:"每行输入一个敏感词"},null,8,["modelValue"]),e[51]||(e[51]=n("div",{class:"form-hint"},"多个敏感词请用换行符分隔",-1))]),_:1})):S("",!0),l(r,{label:"视频时长限制（秒）",prop:"maxVideoDuration"},{default:t(()=>[l(U,{modelValue:u.maxVideoDuration,"onUpdate:modelValue":e[8]||(e[8]=a=>u.maxVideoDuration=a),min:10,max:3600,label:"最大秒数"},null,8,["modelValue"]),e[52]||(e[52]=n("div",{class:"form-hint"},"用户可上传的单个视频最大时长",-1))]),_:1}),l(r,{label:"视频大小限制（MB）",prop:"maxVideoSize"},{default:t(()=>[l(U,{modelValue:u.maxVideoSize,"onUpdate:modelValue":e[9]||(e[9]=a=>u.maxVideoSize=a),min:10,max:5e3,label:"最大MB"},null,8,["modelValue"]),e[53]||(e[53]=n("div",{class:"form-hint"},"用户可上传的单个视频最大文件大小",-1))]),_:1}),l(r,{label:"内容水印"},{default:t(()=>[l(A,{modelValue:u.enableWatermark,"onUpdate:modelValue":e[10]||(e[10]=a=>u.enableWatermark=a)},null,8,["modelValue"])]),_:1}),u.enableWatermark?(V(),w(r,{key:1,label:"水印设置"},{default:t(()=>[l(r,{label:"水印文字",prop:"watermarkText"},{default:t(()=>[l(T,{modelValue:u.watermarkText,"onUpdate:modelValue":e[11]||(e[11]=a=>u.watermarkText=a),placeholder:"请输入水印文字"},null,8,["modelValue"])]),_:1}),l(r,{label:"水印位置"},{default:t(()=>[l(oe,{modelValue:u.watermarkPosition,"onUpdate:modelValue":e[12]||(e[12]=a=>u.watermarkPosition=a)},{default:t(()=>[l(_,{label:"左上角",value:"top-left"}),l(_,{label:"右上角",value:"top-right"}),l(_,{label:"左下角",value:"bottom-left"}),l(_,{label:"右下角",value:"bottom-right"}),l(_,{label:"居中",value:"center"})]),_:1},8,["modelValue"])]),_:1})]),_:1})):S("",!0)]),_:1},8,["model"])]),_:1}),l(F,{label:"IP管理",name:"ip-management"},{default:t(()=>[l(J,{model:m,ref_key:"ipSettingsForm",ref:me},{default:t(()=>[l(r,{label:"IP限制模式"},{default:t(()=>[l(K,{modelValue:m.restrictionMode,"onUpdate:modelValue":e[13]||(e[13]=a=>m.restrictionMode=a)},{default:t(()=>[l(y,{label:"none"},{default:t(()=>[...e[54]||(e[54]=[s("无限制",-1)])]),_:1}),l(y,{label:"whitelist"},{default:t(()=>[...e[55]||(e[55]=[s("仅允许白名单",-1)])]),_:1}),l(y,{label:"blacklist"},{default:t(()=>[...e[56]||(e[56]=[s("黑名单排除",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),m.restrictionMode==="whitelist"?(V(),w(r,{key:0,label:"白名单IP列表"},{default:t(()=>[l(T,{modelValue:m.whitelistIps,"onUpdate:modelValue":e[14]||(e[14]=a=>m.whitelistIps=a),type:"textarea",rows:6,placeholder:"每行输入一个IP地址或IP段（如192.168.1.0/24）"},null,8,["modelValue"]),e[57]||(e[57]=n("div",{class:"form-hint"},"多个IP请用换行符分隔，支持CIDR格式",-1))]),_:1})):S("",!0),m.restrictionMode==="blacklist"?(V(),w(r,{key:1,label:"黑名单IP列表"},{default:t(()=>[l(T,{modelValue:m.blacklistIps,"onUpdate:modelValue":e[15]||(e[15]=a=>m.blacklistIps=a),type:"textarea",rows:6,placeholder:"每行输入一个IP地址或IP段（如192.168.1.0/24）"},null,8,["modelValue"]),e[58]||(e[58]=n("div",{class:"form-hint"},"多个IP请用换行符分隔，支持CIDR格式",-1))]),_:1})):S("",!0),l(r,{label:"管理员登录IP限制"},{default:t(()=>[l(A,{modelValue:m.restrictAdminIp,"onUpdate:modelValue":e[16]||(e[16]=a=>m.restrictAdminIp=a)},null,8,["modelValue"])]),_:1}),m.restrictAdminIp?(V(),w(r,{key:2,label:"管理员IP白名单"},{default:t(()=>[l(T,{modelValue:m.adminIps,"onUpdate:modelValue":e[17]||(e[17]=a=>m.adminIps=a),type:"textarea",rows:4,placeholder:"每行输入一个IP地址"},null,8,["modelValue"]),e[59]||(e[59]=n("div",{class:"form-hint"},"仅允许这些IP地址登录管理员账号",-1))]),_:1})):S("",!0)]),_:1},8,["model"])]),_:1}),l(F,{label:"系统日志",name:"system-logs"},{default:t(()=>[n("div",Xe,[n("div",Ye,[l(oe,{modelValue:b.logType,"onUpdate:modelValue":e[18]||(e[18]=a=>b.logType=a),placeholder:"日志类型",class:"filter-select"},{default:t(()=>[l(_,{label:"所有类型",value:""}),l(_,{label:"登录日志",value:"login"}),l(_,{label:"操作日志",value:"operation"}),l(_,{label:"错误日志",value:"error"}),l(_,{label:"安全警告",value:"warning"})]),_:1},8,["modelValue"]),l(Be,{modelValue:b.dateRange,"onUpdate:modelValue":e[19]||(e[19]=a=>b.dateRange=a),type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",class:"filter-date"},null,8,["modelValue"]),l(T,{modelValue:b.keyword,"onUpdate:modelValue":e[20]||(e[20]=a=>b.keyword=a),placeholder:"搜索关键词",class:"filter-search","prefix-icon":"Search"},null,8,["modelValue"]),l(v,{type:"primary",onClick:ge},{default:t(()=>[...e[60]||(e[60]=[s("搜索",-1)])]),_:1}),l(v,{onClick:be},{default:t(()=>[...e[61]||(e[61]=[s("重置",-1)])]),_:1}),l(v,{type:"danger",onClick:ve},{default:t(()=>[...e[62]||(e[62]=[s("导出日志",-1)])]),_:1})]),$e((V(),w(ne,{data:ee.value,style:{width:"100%"}},{default:t(()=>[l(g,{prop:"id",label:"ID",width:"80"}),l(g,{prop:"type",label:"类型",width:"100"},{default:t(a=>[l(ae,{type:_e(a.row.type)},{default:t(()=>[s(q(ce(a.row.type)),1)]),_:2},1032,["type"])]),_:1}),l(g,{prop:"message",label:"内容","min-width":"300"}),l(g,{prop:"operator",label:"操作者",width:"120"}),l(g,{prop:"ip",label:"IP地址",width:"150"}),l(g,{prop:"timestamp",label:"时间",width:"180"},{default:t(a=>[s(q(le(a.row.timestamp)),1)]),_:1})]),_:1},8,["data"])),[[qe,N.value]]),l(De,{"current-page":D.currentPage,"onUpdate:currentPage":e[21]||(e[21]=a=>D.currentPage=a),"page-size":D.pageSize,"onUpdate:pageSize":e[22]||(e[22]=a=>D.pageSize=a),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:ee.value.length,class:"log-pagination"},null,8,["current-page","page-size","total"])])]),_:1}),l(F,{label:"备份恢复",name:"backup-restore"},{default:t(()=>[n("div",Ze,[l(Q,{class:"backup-card"},{header:t(()=>[n("div",he,[e[64]||(e[64]=n("span",null,"数据库备份",-1)),l(v,{type:"primary",onClick:ye},{default:t(()=>[...e[63]||(e[63]=[s("立即备份",-1)])]),_:1})])]),default:t(()=>[n("div",el,[l(r,{label:"自动备份"},{default:t(()=>[l(A,{modelValue:k.autoBackup,"onUpdate:modelValue":e[23]||(e[23]=a=>k.autoBackup=a)},null,8,["modelValue"])]),_:1}),k.autoBackup?(V(),w(r,{key:0,label:"备份频率"},{default:t(()=>[l(K,{modelValue:k.frequency,"onUpdate:modelValue":e[24]||(e[24]=a=>k.frequency=a)},{default:t(()=>[l(y,{label:"daily"},{default:t(()=>[...e[65]||(e[65]=[s("每日",-1)])]),_:1}),l(y,{label:"weekly"},{default:t(()=>[...e[66]||(e[66]=[s("每周",-1)])]),_:1}),l(y,{label:"monthly"},{default:t(()=>[...e[67]||(e[67]=[s("每月",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})):S("",!0),k.autoBackup?(V(),w(r,{key:1,label:"保留备份数量"},{default:t(()=>[l(U,{modelValue:k.retentionCount,"onUpdate:modelValue":e[25]||(e[25]=a=>k.retentionCount=a),min:1,max:100,label:"备份数"},null,8,["modelValue"]),e[68]||(e[68]=n("div",{class:"form-hint"},"超过数量后会自动删除最旧的备份",-1))]),_:1})):S("",!0)])]),_:1}),l(Q,{class:"restore-card"},{header:t(()=>[...e[69]||(e[69]=[n("div",{class:"restore-header"},[n("span",null,"备份列表")],-1)])]),default:t(()=>[l(ne,{data:M.value,style:{width:"100%"}},{default:t(()=>[l(g,{prop:"id",label:"ID",width:"80"}),l(g,{prop:"filename",label:"文件名","min-width":"200"}),l(g,{prop:"size",label:"大小",width:"100"}),l(g,{prop:"createdAt",label:"创建时间",width:"180"},{default:t(a=>[s(q(le(a.row.createdAt)),1)]),_:1}),l(g,{label:"操作",width:"200",fixed:"right"},{default:t(a=>[l(v,{type:"primary",size:"small",onClick:re=>Ve(a.row)},{default:t(()=>[...e[70]||(e[70]=[s("恢复",-1)])]),_:1},8,["onClick"]),l(v,{type:"warning",size:"small",onClick:re=>ke(a.row)},{default:t(()=>[...e[71]||(e[71]=[s("下载",-1)])]),_:1},8,["onClick"]),l(v,{type:"danger",size:"small",onClick:re=>we(a.row)},{default:t(()=>[...e[72]||(e[72]=[s("删除",-1)])]),_:1},8,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),l(ie,{modelValue:c.value,"onUpdate:modelValue":e[27]||(e[27]=a=>c.value=a),title:W.value,width:"400px","before-close":h},{footer:t(()=>[l(v,{onClick:h},{default:t(()=>[...e[73]||(e[73]=[s("取消",-1)])]),_:1}),l(v,{type:L.value,onClick:B.value},{default:t(()=>[...e[74]||(e[74]=[s("确定",-1)])]),_:1},8,["type","onClick"])]),default:t(()=>[n("div",ll,q(E.value),1)]),_:1},8,["modelValue","title"]),l(ie,{modelValue:R.value,"onUpdate:modelValue":e[28]||(e[28]=a=>R.value=a),title:"备份进度",width:"400px","close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":"false"},{default:t(()=>[n("div",tl,[l(Fe,{percentage:$.value,status:O.value},null,8,["percentage","status"]),n("div",al,q(I.value),1)])]),_:1},8,["modelValue"])])}}},il=We(ol,[["__scopeId","data-v-89a46259"]]);export{il as default};
