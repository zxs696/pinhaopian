import{_ as ge,r as g,x as O,o as _e,c as U,a as M,b as e,w as t,d as o,e as i,i as w,m as be,v as we,y as he,n as ye,p as Ve,f as d,z as xe,A as Ce,B as ke,t as h,h as j,E as b,C as z}from"./index-OILW0-7z.js";const Se={class:"video-management-container"},ze={class:"header-content"},Te={class:"breadcrumb"},Be={class:"header-actions"},Ie={class:"card-header"},Ue={class:"video-count"},Me={class:"filter-section"},Ee={class:"video-title"},Pe={class:"table-footer"},$e={key:0,class:"batch-actions"},De={class:"pagination"},Ne={key:0,class:"edit-form"},Le={__name:"VideoManagement",setup(qe){const E=g("video-management"),y=g(""),V=g(""),x=g(""),c=g([]),C=g(!1),r=g(null),f=g({currentPage:1,pageSize:10}),p=g([{id:"001",title:"摄影技巧分享：如何拍出专业级照片",uploader:"photographer123",category:"education",views:12580,likes:986,status:"normal",uploadTime:"2024-01-14 15:30:00",coverImage:"/logo.png",description:"本视频分享了一些专业摄影技巧，帮助你提升拍照水平。"},{id:"002",title:"2024年最新科技产品评测",uploader:"techreviewer",category:"tech",views:25600,likes:2145,status:"normal",uploadTime:"2024-01-13 10:15:00",coverImage:"/logo.png",description:"详细评测2024年最新发布的科技产品，包括性能、价格和使用体验。"},{id:"003",title:"家常菜教程：红烧肉的做法",uploader:"chefmaster",category:"life",views:32450,likes:3567,status:"normal",uploadTime:"2024-01-12 18:45:00",coverImage:"/logo.png",description:"详细教程教你如何做出美味的红烧肉，简单易学。"},{id:"004",title:"古典音乐欣赏：贝多芬第五交响曲",uploader:"musiclover",category:"music",views:8900,likes:765,status:"normal",uploadTime:"2024-01-11 20:20:00",coverImage:"/logo.png",description:"深入解析贝多芬第五交响曲，带你领略古典音乐的魅力。"},{id:"005",title:"电影解析：《星际穿越》中的科学原理",uploader:"moviecritic",category:"entertainment",views:45800,likes:4321,status:"offline",uploadTime:"2024-01-10 14:10:00",coverImage:"/logo.png",description:"解析《星际穿越》中涉及的科学原理，探讨科幻与现实的边界。"}]),P=O(()=>{let a=[...p.value];if(y.value){const l=y.value.toLowerCase();a=a.filter(u=>u.title.toLowerCase().includes(l)||u.uploader.toLowerCase().includes(l))}return V.value&&(a=a.filter(l=>l.category===V.value)),x.value&&(a=a.filter(l=>l.status===x.value)),a}),A=O(()=>{const a=(f.value.currentPage-1)*f.value.pageSize,l=a+f.value.pageSize;return P.value.slice(a,l)});_e(()=>{$()});function $(){console.log("加载视频数据")}function F(a){E.value=a,console.log("选择菜单:",a)}function D(){f.value.currentPage=1,console.log("搜索关键词:",y.value),console.log("选择分类:",V.value),console.log("选择状态:",x.value)}function G(){y.value="",V.value="",x.value="",f.value.currentPage=1}function H(a){c.value=a}function J(a){console.log("查看视频:",a.id),b.info("查看视频功能待实现")}function Q(a){r.value={...a},C.value=!0}function T(){C.value=!1,r.value=null}function R(){if(!r.value)return;const a=p.value.findIndex(l=>l.id===r.value.id);a!==-1&&(p.value[a]={...r.value},b.success("视频信息已更新")),T()}function W(a){const l=a.status==="normal"?"offline":"normal",u=l==="normal"?"上架":"下架";z.confirm(`确定要${u}此视频吗？`,"操作确认",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{const _=p.value.findIndex(B=>B.id===a.id);_!==-1&&(p.value[_].status=l,b.success(`视频已${u}`))}).catch(()=>{})}function X(){z.confirm(`确定要下架选中的 ${c.value.length} 个视频吗？`,"批量下架",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{c.value.forEach(a=>{const l=p.value.findIndex(u=>u.id===a.id);l!==-1&&(p.value[l].status="offline")}),c.value=[],b.success("批量下架成功")}).catch(()=>{})}function Y(){z.confirm(`确定要上架选中的 ${c.value.length} 个视频吗？`,"批量上架",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{c.value.forEach(a=>{const l=p.value.findIndex(u=>u.id===a.id);l!==-1&&(p.value[l].status="normal")}),c.value=[],b.success("批量上架成功")}).catch(()=>{})}function Z(){z.confirm(`确定要删除选中的 ${c.value.length} 个视频吗？此操作不可恢复！`,"批量删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then(()=>{c.value.forEach(a=>{const l=p.value.findIndex(u=>u.id===a.id);l!==-1&&p.value.splice(l,1)}),c.value=[],b.success("批量删除成功")}).catch(()=>{})}function ee(){$(),b.success("列表已刷新")}function le(){b.success("数据导出成功"),console.log("导出视频数据")}function te(a){f.value.pageSize=a}function ae(a){f.value.currentPage=a}function ne(a){return new Date(a).toLocaleString("zh-CN")}function oe(a){return{life:"生活",tech:"科技",entertainment:"娱乐",education:"教育",music:"音乐",other:"其他"}[a]||a}return(a,l)=>{const u=o("el-icon"),_=o("el-menu-item"),B=o("el-menu"),ue=o("el-aside"),N=o("el-breadcrumb-item"),ie=o("el-breadcrumb"),m=o("el-button"),se=o("el-header"),I=o("el-input"),s=o("el-option"),k=o("el-select"),v=o("el-table-column"),de=o("el-avatar"),L=o("el-tag"),re=o("el-table"),ce=o("el-pagination"),pe=o("el-card"),me=o("el-main"),q=o("el-container"),S=o("el-form-item"),fe=o("el-form"),ve=o("el-dialog");return M(),U("div",Se,[e(q,{class:"main-container"},{default:t(()=>[e(ue,{width:"240px",class:"sidebar"},{default:t(()=>[l[15]||(l[15]=i("div",{class:"sidebar-header"},[i("h2",null,"视频管理系统")],-1)),e(B,{"default-active":E.value,class:"el-menu-vertical",onSelect:F},{default:t(()=>[e(_,{index:"dashboard"},{default:t(()=>[e(u,null,{default:t(()=>[e(w(be))]),_:1}),l[10]||(l[10]=i("span",null,"数据概览",-1))]),_:1}),e(_,{index:"video-management"},{default:t(()=>[e(u,null,{default:t(()=>[e(w(we))]),_:1}),l[11]||(l[11]=i("span",null,"视频管理",-1))]),_:1}),e(_,{index:"pending-videos"},{default:t(()=>[e(u,null,{default:t(()=>[e(w(he))]),_:1}),l[12]||(l[12]=i("span",null,"待审核视频",-1))]),_:1}),e(_,{index:"users"},{default:t(()=>[e(u,null,{default:t(()=>[e(w(ye))]),_:1}),l[13]||(l[13]=i("span",null,"用户管理",-1))]),_:1}),e(_,{index:"categories"},{default:t(()=>[e(u,null,{default:t(()=>[e(w(Ve))]),_:1}),l[14]||(l[14]=i("span",null,"分类管理",-1))]),_:1})]),_:1},8,["default-active"])]),_:1}),e(q,null,{default:t(()=>[e(se,{height:"60px",class:"header"},{default:t(()=>[i("div",ze,[i("div",Te,[e(ie,{separator:"/"},{default:t(()=>[e(N,{to:{path:"/admin"}},{default:t(()=>[...l[16]||(l[16]=[d("首页",-1)])]),_:1}),e(N,null,{default:t(()=>[...l[17]||(l[17]=[d("视频管理",-1)])]),_:1})]),_:1})]),i("div",Be,[e(m,{type:"warning",onClick:le},{default:t(()=>[e(u,null,{default:t(()=>[e(w(xe))]),_:1}),l[18]||(l[18]=d(" 导出数据 ",-1))]),_:1}),e(m,{type:"primary",onClick:ee},{default:t(()=>[e(u,null,{default:t(()=>[e(w(Ce))]),_:1}),l[19]||(l[19]=d(" 刷新列表 ",-1))]),_:1})])])]),_:1}),e(me,{class:"content"},{default:t(()=>[e(pe,null,{header:t(()=>[i("div",Ie,[l[20]||(l[20]=i("span",null,"视频管理",-1)),i("span",Ue,"（共 "+h(p.value.length)+" 个视频）",1)])]),default:t(()=>[i("div",Me,[e(I,{modelValue:y.value,"onUpdate:modelValue":l[0]||(l[0]=n=>y.value=n),placeholder:"搜索视频标题或上传者",class:"search-input","prefix-icon":"Search",onKeyup:ke(D,["enter"])},null,8,["modelValue"]),e(k,{modelValue:V.value,"onUpdate:modelValue":l[1]||(l[1]=n=>V.value=n),placeholder:"选择分类",class:"category-select"},{default:t(()=>[e(s,{label:"全部分类",value:""}),e(s,{label:"生活",value:"life"}),e(s,{label:"科技",value:"tech"}),e(s,{label:"娱乐",value:"entertainment"}),e(s,{label:"教育",value:"education"}),e(s,{label:"音乐",value:"music"}),e(s,{label:"其他",value:"other"})]),_:1},8,["modelValue"]),e(k,{modelValue:x.value,"onUpdate:modelValue":l[2]||(l[2]=n=>x.value=n),placeholder:"选择状态",class:"status-select"},{default:t(()=>[e(s,{label:"全部状态",value:""}),e(s,{label:"正常",value:"normal"}),e(s,{label:"下架",value:"offline"})]),_:1},8,["modelValue"]),e(m,{type:"primary",onClick:D},{default:t(()=>[...l[21]||(l[21]=[d("搜索",-1)])]),_:1}),e(m,{onClick:G},{default:t(()=>[...l[22]||(l[22]=[d("重置",-1)])]),_:1})]),e(re,{data:A.value,style:{width:"100%"},onSelectionChange:H},{default:t(()=>[e(v,{type:"selection",width:"55"}),e(v,{prop:"id",label:"ID",width:"80"}),e(v,{prop:"title",label:"视频标题","min-width":"200"},{default:t(n=>[i("div",Ee,[e(de,{size:40,src:n.row.coverImage,class:"video-cover"},null,8,["src"]),i("span",null,h(n.row.title),1)])]),_:1}),e(v,{prop:"uploader",label:"上传者",width:"120"}),e(v,{prop:"category",label:"分类",width:"100"},{default:t(n=>[e(L,null,{default:t(()=>[d(h(oe(n.row.category)),1)]),_:2},1024)]),_:1}),e(v,{prop:"views",label:"观看量",width:"100"}),e(v,{prop:"likes",label:"点赞数",width:"100"}),e(v,{prop:"status",label:"状态",width:"100"},{default:t(n=>[e(L,{type:n.row.status==="normal"?"success":"danger"},{default:t(()=>[d(h(n.row.status==="normal"?"正常":"下架"),1)]),_:2},1032,["type"])]),_:1}),e(v,{prop:"uploadTime",label:"上传时间",width:"180"},{default:t(n=>[d(h(ne(n.row.uploadTime)),1)]),_:1}),e(v,{label:"操作",width:"200",fixed:"right"},{default:t(n=>[e(m,{type:"primary",size:"small",onClick:K=>J(n.row)},{default:t(()=>[...l[23]||(l[23]=[d("查看",-1)])]),_:1},8,["onClick"]),e(m,{type:"warning",size:"small",onClick:K=>Q(n.row)},{default:t(()=>[...l[24]||(l[24]=[d("编辑",-1)])]),_:1},8,["onClick"]),e(m,{type:n.row.status==="normal"?"danger":"success",size:"small",onClick:K=>W(n.row)},{default:t(()=>[d(h(n.row.status==="normal"?"下架":"上架"),1)]),_:2},1032,["type","onClick"])]),_:1})]),_:1},8,["data"]),i("div",Pe,[c.value.length>0?(M(),U("div",$e,[i("span",null,"已选择 "+h(c.value.length)+" 个视频",1),e(m,{type:"danger",onClick:X},{default:t(()=>[...l[25]||(l[25]=[d("批量下架",-1)])]),_:1}),e(m,{type:"success",onClick:Y},{default:t(()=>[...l[26]||(l[26]=[d("批量上架",-1)])]),_:1}),e(m,{type:"warning",onClick:Z,plain:""},{default:t(()=>[...l[27]||(l[27]=[d("批量删除",-1)])]),_:1})])):j("",!0),i("div",De,[e(ce,{"current-page":f.value.currentPage,"onUpdate:currentPage":l[3]||(l[3]=n=>f.value.currentPage=n),"page-size":f.value.pageSize,"onUpdate:pageSize":l[4]||(l[4]=n=>f.value.pageSize=n),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:P.value.length,onSizeChange:te,onCurrentChange:ae},null,8,["current-page","page-size","total"])])])]),_:1})]),_:1})]),_:1})]),_:1}),e(ve,{modelValue:C.value,"onUpdate:modelValue":l[9]||(l[9]=n=>C.value=n),title:"编辑视频信息",width:"60%","before-close":T},{footer:t(()=>[e(m,{onClick:T},{default:t(()=>[...l[28]||(l[28]=[d("取消",-1)])]),_:1}),e(m,{type:"primary",onClick:R},{default:t(()=>[...l[29]||(l[29]=[d("保存修改",-1)])]),_:1})]),default:t(()=>[r.value?(M(),U("div",Ne,[e(fe,{model:r.value,"label-width":"120px"},{default:t(()=>[e(S,{label:"视频标题",required:""},{default:t(()=>[e(I,{modelValue:r.value.title,"onUpdate:modelValue":l[5]||(l[5]=n=>r.value.title=n),placeholder:"请输入视频标题",maxlength:"100","show-word-limit":""},null,8,["modelValue"])]),_:1}),e(S,{label:"视频分类",required:""},{default:t(()=>[e(k,{modelValue:r.value.category,"onUpdate:modelValue":l[6]||(l[6]=n=>r.value.category=n),placeholder:"请选择视频分类"},{default:t(()=>[e(s,{label:"生活",value:"life"}),e(s,{label:"科技",value:"tech"}),e(s,{label:"娱乐",value:"entertainment"}),e(s,{label:"教育",value:"education"}),e(s,{label:"音乐",value:"music"}),e(s,{label:"其他",value:"other"})]),_:1},8,["modelValue"])]),_:1}),e(S,{label:"视频状态"},{default:t(()=>[e(k,{modelValue:r.value.status,"onUpdate:modelValue":l[7]||(l[7]=n=>r.value.status=n),placeholder:"请选择视频状态"},{default:t(()=>[e(s,{label:"正常",value:"normal"}),e(s,{label:"下架",value:"offline"})]),_:1},8,["modelValue"])]),_:1}),e(S,{label:"视频描述"},{default:t(()=>[e(I,{modelValue:r.value.description,"onUpdate:modelValue":l[8]||(l[8]=n=>r.value.description=n),type:"textarea",rows:4,placeholder:"请输入视频描述",maxlength:"500","show-word-limit":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])):j("",!0)]),_:1},8,["modelValue"])])}}},Oe=ge(Le,[["__scopeId","data-v-84a7e4a7"]]);export{Oe as default};
